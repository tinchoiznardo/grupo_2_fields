<%- include('./partials/head.ejs') %>

<%- include('./partials/header.ejs') %>

<main>
    
    <form action="/products/edit/<%= productToEdit.id %>?_method=PUT" method="POST">
        
        <div class="card bg-light">
            <article class="card-body mx-auto" style="max-width: 400px;">
                <h4 class="card-title mt-3 text-center">Edit your Field</h4>
                <p class="text-center">Welcome to Fields!</p>
                <form>
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                        </div>
                        <input name="name" class="form-control" placeholder="Product Name" value="<%= productToEdit.name %>" type="text" required>
                    </div> 
                    <div class="form-group input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"> <i class="fa fa-envelope"></i> </span>
                        </div>
                        <input name="description" class="form-control" value="<%= productToEdit.description %>" placeholder="DescripciÃ³n" type="text">
                    </div>
                    
                    <!-- repite 4 veces  -->
                    
                    <div class="form-group input-group row">
                        <div class="input-group-prepend col-2">
                        </div>
                        <label for="quantity">Quantity:</label>
                        <input name="quantity" class="form-control" placeholder="Quantity" value="1" type="number" required>
                    </div>
                    <div class="form-group input-group row">
                        <div class="btn-group col-12">
                            <label for="price">Price:</label>
                            <input name="price" class="number" placeholder="Precio" type="number" value="<%= productToEdit.price %>"required>
                        </div>
                    </div>
                    <div class="form-group input-group row">

                        <div>
                            <label for="">Highlighted</label>
                            <select name='highlighted'> 
                                    <% if(productToEdit.highlighted) {%>
                                <option value="1" selected>
                                    Yes
                                </option>
                                <option value="0">
                                    No
                                </option>
                                <% } else { %>
                                    <option value="0" selected>
                                        No
                                    </option>
                                    <option value="1">
                                        Yes
                                    </option>
                                <% } %>
                            </select>
                        </div>
                        
                        <div>
                            <label for="">Category</label>
                            <select name='category'> 
                                <% for( let i = 0; i < categories.length; i++) {%>
                                    <% if(categories[i].id == product.category_id) {%>
                                <option value="<%= categories[i].id %>" selected>
                                    <%= categories[i].type %>
                                </option>
                                <% } else { %>
                                    <option value="<%= categories[i].id %>">
                                        <%= categories[i].type %>
                                    </option>
                                <% } %>
                                <% } %>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Save Product</button>
        </article>
    </form>
    </div>  
</div> 


</main> 

<%- include('./partials/footer.ejs') %>
